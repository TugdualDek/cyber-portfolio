---
title: "Mon Lab Personnel - Infrastructure S√©curis√©e avec Docker"
date: "2025-04-02"
executionDate: "2023-11-15"
excerpt: "Comment j'ai construit un environnement d'apprentissage pour exp√©rimenter avec la s√©curit√© informatique, Docker et l'auto-h√©bergement de services."
classification: "CONFIDENTIAL"
category: "Projects"
caseNumber: "HOMELAB-2025-001"
coverImage: "/assets/blog/lab/homelab-cover.webp"
language: "fr"
---

# Mon Lab Personnel : Infrastructure Cloud S√©curis√©e avec Docker

Il est 23h. La lueur bleue de mon √©cran est ma seule source de lumi√®re. Sur mon ordinateur, je viens de lancer une commande qui va d√©ployer tout un tas de services: un serveur git, un outil de prise de notes collaboratif, un gestionnaire de t√¢ches... En quelques secondes, ces conteneurs Docker prennent vie sur mon serveur, orchestr√©s par quelques fichiers de configurations que j'ai √©crits.

Bienvenue dans les coulisses de mon laboratoire personnel - un espace o√π j'exp√©rimente, j'apprends, et je contr√¥le mes donn√©es.

# Pourquoi cr√©er son propre lab?

A l'heure ou les services "clouds" se multiplient, je voulai essayer de reprendre le controle sur certains outils num√©riques, et sur certaines donn√©es importantes.
Pourquoi ai je fait cela me direz vous ? Pour ces 3 raisons :
- **Apprendre par la pratique :** rien ne vaut l'exp√©rience directe pour comprendre les d√©fis de la s√©curit√© informatique et de l'architecture
- **Avoir une plateforme d'exp√©rimentation permanente** pour tester de nouvelles technologies
- **Prot√©ger certaines donn√©es** en les h√©bergeant moi-m√™me sur mon serveur.

# L'architecture : simplicit√© et apprentissage

Mon infrastructure repose sur quelques principes fondamentaux :
1. **S√©curit√© par d√©faut :** mon serveur doit √™tre le plus s√©curis√© possible (la perfection n'existe pas)
2. **Isolation des services :** tous les services que j'h√©berge doivent √™tre isol√©s les uns des autres
3. **Facilit√© d'entretien :** il faut que ce soit facile de mettre √† jour certains composants

Pour ce faire, j'ai choisi d'utiliser un serveur de chez [Scaleway](https://www.scaleway.com), fournisseur cloud fran√ßais qui ont un excellent rapport qualit√©/prix. Mon serveur tourne avec une distribution Linux Debian minimaliste, utilis√©e pour sa simplicit√© et sa stabilit√©, avec une grande communaut√© sur internet, ce qui ets id√©al pour un d√©butant.

<TechnicalImage 
  src="/assets/blog/lab/homelab-architecture.webp" 
  alt="Architecture de mon lab personnel" 
  caption="Vue simplifi√©e de l'architecture de mon lab personnel sur Scaleway" 
/>

# La s√©curisation : une approche progressive

J'ai commenc√© par mettre en place quelques protections essentielles, basiques, mais tr√®s importantes :

- **Acc√®s SSH restreint :** connexion uniquement par cl√© de chiffrement avec un utilisateur d√©di√©, sans possibilit√© de connexion directe avec le super utilisateur.
- **Pare-feu minimaliste :** seuls les ports essentiels sont ouverts, tous les autres sont ferm√©s
- **CrowdSec :** outil fran√ßais, communautaire, qui est un IDPS (syst√®me de d√©t√©ction et de pr√©vention d'intrusions) et un WAF (firewall web applicatif) ([Site](https://www.crowdsec.net/))
- **Traefik :** Reverse proxy qui prot√®ge mes services avec des fonctionnalit√©s comme le g√©oblocage et l'int√©gration avec CrowdSec ([site](https://traefik.io/traefik/))

j'ai √©galement mis en place quelques outils qui me semblaient importants :
- un scan antivirus toutes les nuits
- un syst√®me de sauvegardes automatiques

Cette approche multi-couches s'inspire du concept de "d√©fense en profondeur" : si une protection √©choue, les autres restent en place.

# Docker : l'isolation comme principe fondamental

Toute mon infrastructure se base sur un outil d'orchestration, [Docker](https://www.docker.com/), qui me permet de :
- **Isoler chaque service** dans son propre conteneur
- **Standardiser les d√©ploiements** avec des images bien maintenues
- **Faciliter les mises √† jour** sans risquer de casser l'ensemble du syst√®me
- **D√©finir toute mon infrastructure comme du code** avec docker-compose

Pour illustrer cette isolation, imaginez chaque service comme une pi√®ce s√©par√©e dans un b√¢timent : m√™me si un cambrioleur parvient √† entrer dans une pi√®ce, les autres restent verrouill√©es. M√™me si un incendie se d√©clare dans l'une d'elles, les voisines restent √† l'abri. De la m√™me fa√ßon, si un service est compromis, les autres restent prot√©g√©s.

# Les services que j'h√©berge

Mon lab personnel h√©berge actuellement :

- **OneDev** : Un serveur git complet pour mes projets personnels, alternative √† Github et Gitlab
- **Affine** : Un outil de prise de notes similaire √† Notion
- **Vikunja** : Gestionnaire de t√¢ches pour organiser mes projets, une alternative √† Trello
- **Grafana & Prometheus** : Pour surveiller la sant√© et la performance de mon infrastructure

J'ai √©galement d√©velopp√© plusieurs projets personnels que j'h√©b√®rge sur mon lab.

# Tests de s√©curit√© : appliquer pour apprendre

L'une des choses les plus int√©ressantes de ce lab est qu'il me sert √©galement en quelque sorte de terrain de jeu et d'entrainement en cybers√©curit√©. En effet, j'essaie d'executer des "attaques controll√©es" dessus pour :
- Identifier des configurations mal s√©curis√©es et les corriger
- Tester les limites de mes protections
- Comprendre les vecteurs d'attaque potentiels et comment je peux faire pour r√©duire ma surface d'attaque
- Mettre en pratique les concepts appris th√©oriquement en cours

Ceci est tr√®s important. C'est comme si une entreprise demandait √† une boite de cybers√©curit√© d'effectuer un audit de ses syst√®mes, sauf que l'entreprise c'est moi et la boite de cybers√©curit√©, c'est moi aussi.

# Surveillance et monitoring

La s√©curit√© ne se limite pas √† la pr√©vention, la d√©tection est aussi tr√®s importante. Il faut savoir qui nous attaque, quand, et comment pour r√©agir rapidement. C'est pourquoi, j'ai mis en place :

- **Grafana** avec des dashboards pour visualiser l'activit√© du serveur, de CrowdSec, et de Traefik
- **Int√©gration Slack** qui m'envoie un message quand CrowdSec bloque quelque chose
- **Monitoring des logs** pour identifier rapidement toute anomalie

<TechnicalImage 
  src="/assets/blog/lab/homelab-grafana.webp" 
  alt="Dashboard Grafana avec monitoring Traefik" 
  caption="Mon dashboard Grafana montrant les statistiques de Traefik" 
/>

# Les enseignements d'un d√©butant

En faisant ce projet, j'ai appris √©norm√©ment de choses :

1. **L'importance de la simplicit√©** : plus un syst√®me est complexe, plus il est difficile √† s√©curiser, √† sauvegarder et √† remettre en place apr√®s un sinistre
2. **La valeur des tests r√©guliers** : sans v√©rification constante, une fausse sensation de s√©curit√© s'installe. C'est pourquoi il est important de tester r√©guli√®rement !
3. **L'√©quilibre entre s√©curit√© et usabilit√©** : La solution la plus s√©curis√©e n'est pas toujours la plus pratique
4. **L'apprentissage par l'erreur** : Chaque faille d√©couverte est une le√ßon pr√©cieuse

# La prochaine √©tape

Je ne consid√®re pas mon lab comme termin√©. C'est un projet en constante √©volution.
Ce lab me permet de tester de nouveaux projets, de d√©couvrir et d'essayer de nouvelles technologies. C'est vraiment un terrain de jeu unique qui me permet de tester ce que je veux !

Si j'ai envie de changer de reverse proxy, c'est possible, je peux le changer ! Si je veux rajouter un nouveau service, c'est possible, il me suffit de cr√©er un nouveau conteneur Docker, ....

J'ai quelques pistes d'am√©liorations que je peux mettre en place comme :
- Renforcer mes sauvegardes avec une copie hors-site
- Mettre en place des analyses de vuln√©rabilit√©s automatis√©es avec des outils comme OpenVAS
- Am√©liorer la documentation de mon infrastructure pour faciliter sa reconstruction en cas de probl√®mes.

# Conclusion

Cr√©er son propre lab technique est un voyage sans fin, mais incroyablement formateur. C'est une fa√ßon concr√®te d'apprendre la s√©curit√©, l'administration syst√®me et les technologies informatiques modernes.

Je ne pr√©tends pas avoir cr√©√© un syst√®me parfait - mon infrastructure contient certainement encore des failles et des probl√®mes que n'ai pas rep√©r√©. Mais c'est pr√©cis√©ment ce qui rend ce projet g√©nial : chaque d√©couverte est une opportunit√© d'apprentissage !

N'h√©sitez pas si vous avez des suggestions üòâ